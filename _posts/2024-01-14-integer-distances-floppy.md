---
layout: post
title: Integer distances in floppy metric spaces
date: 2024-01-14 18:00
---
Occasionally, the effort I put into editing Wikipedia articles pays off in research ideas. My latest preprint, "non-Euclidean Erdős–Anning theorems" ([arXiv:2401.06328](https://arxiv.org/abs/2401.06328)) is an example. It came out of my recent efforts to bring [the Wikipedia article on the Erdős–Anning theorem](https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93Anning_theorem) (which states that a point set in the Euclidean plane with integer distances must either be finite or collinear) up to Wikipedia's Good Article standard. One of the criteria for the standard is that the article should cover all "main aspects of the topic", and one aspect that stood out to me as missing was: what about non-Euclidean geometries? I wasn't able to find anything that had been published about this, and my Good Article reviewer didn't notice the omission, so it wasn't a problem for the Good Article review. But it left me wondering whether maybe there might be more to say about this topic. And there was!

At first, I only thought about non-Euclidean as meaning one of the other two uniform geometries for two-dimensional spaces: spherical, or hyperbolic. Spherical isn't a very interesting choice of geometry for this problem, as all integer-distance point sets on a sphere are finite for trivial reasons, so I focused on hyperbolic geometry. Eventually I found a proof that the Erdős–Anning theorem does apply to the hyperbolic plane. You won't find it in the new preprint (it was superseded by later generalizations) but it was more or less along the same lines as the proof for normed planes in the preprint. I was a bit dissatisfied with this result, though, because I couldn't convince myself that it was new or interesting.

In the Euclidean plane, [non-collinear integer distance point sets can be arbitrarily large]({{site.baseurl}}{% post_url 2023-12-12-correcting-harborth %}), which is why the Erdős–Anning theorem states only that these sets are finite without giving a precise bound. But in hyperbolic planes (with an arbitrary scale factor) I couldn't find any sets of more than five non-collinear points with integer distances. It's easy to find five integer-distance hyperbolic points: for instance, choose a regular pentagon of the right size to make its diagonals a rational multiple of its sides, and then scale the metric to make both of these lengths integers. And in fact this construction gives an infinite family of five-point integer-distance sets: the rational multiple can be any rational number between the golden ratio and two. Several other similar constructions also provide infinite families of five-point integer-distance sets. But I couldn't find even one example with six points. Worse, at some point I thought I found a reference classifying rational-distance subsets of the hyperbolic plane, but then I lost it and couldn't find it again. So I wasn't sure whether a hyperbolic Erdős–Anning theorem would even be new, or whether the lost reference might have already scooped it.

Then, in a sequence of steps, I generalized the theorem to other metrics until reaching what you see in the preprint: a version of the Erdős–Anning theorem that holds for (strictly convex) normed planes, for (complete bounded-genus) Riemannian 2-manifolds, and for the boundaries of 3d convex sets. For each of these three steps, the main ideas of the proof remained the same. The obstacle that kept me from making those steps earlier was my own intuition. I had the sense that the Erdős–Anning theorem depended in some way on the rigidity of the Euclidean plane, and would only work for another geometry that was similarly rigid, like that of the hyperbolic plane. The geometry of arbitrary smooth surfaces in 3d (for instance) was too floppy, too variable, to have any control over something like whether a distance was an integer. And I thought I had a counterexample to the theorem, for the metric space of distances on the surfaces of convex polyhedra. But in fact, smooth surfaces are covered by the Riemannian manifold version of the theorem, and convex polyhedral surfaces are covered by the 3d convex surface version.

There are still some counterexamples in the preprint, justifying some of the restrictions on the metrics that it applies to. Maybe the most obvious is that for taxicab geometry in the plane (the $$L_1$$ or $$L_\infty$$ metric), where an integer grid has integer distances and is very far from collinear. The normed plane version of the theorem does apply to $$L_p$$ metrics, but only with $$1<p<\infty$$.

I'm still not sure what happens in higher dimensions. Erdős and Anning state that their theorem applies to higher dimensional Euclidean spaces, but they don't give a proof. I'm pretty sure that three-dimensional Riemannian manifolds, even those with the same topology as Euclidean space, allow arbitrary distances among arbitrary countable systems of points, subject only to the triangle inequality, but my intuition has already let me down on this problem, multiple times. Normed three-dimensional spaces are known to have certain kinds of pathological behavior, documented in a paper by Icking, Klein, and Le, "Convex distance functions in 3-space are different" ([_Fund. Inf._ 1995](https://doi.org/10.3233/FI-1995-2242)); I don't know whether this prevents the theorem from being generalized, but it is definitely a complication for generalizing my proof of it. Maybe the most interesting to me would be a generalization to higher-dimensional hyperbolic spaces, but again I don't know whether that is possible.

([Discuss on Mastodon](https://mathstodon.xyz/@11011110/111757581780711424))