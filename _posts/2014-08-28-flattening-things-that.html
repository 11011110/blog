---
layout: post
title:  "Flattening things that aren't already flat"
date:   2014-08-28 22:46:00
tags:   [graph drawing, origami, papers]
---
The last of my Graph Drawing preprints is also the first of the papers to see daylight from the <a href="{{site.baseurl}}{% post_url 2014-03-28-greetings-from-barbados %}">workshop last spring in Barbados</a>: <a href="http://arxiv.org/abs/1408.6771">&quot;Flat Foldings of Plane Graphs with Prescribed Angles and Edge Lengths&quot;</a> (arXiv:1408.6771, with Zachary Abel, Erik Demaine, Martin Demaine, Anna Lubiw, and Ryuhei Uehara).
<br />

<br />
It&#x27;s part of what has become a long line of research on trying to understand which shapes can be <a href="http://tvtropes.org/pmwiki/pmwiki.php/Main/SquashedFlat">squashed flat</a>, starting with <a href="https://en.wikipedia.org/wiki/Maekawa's_theorem">Maekawa&#x27;s theorem</a> (every vertex of a flat-folded sheet of paper has to have numbers of mountain folds and valley folds that differ by two) and <a href="https://en.wikipedia.org/wiki/Kawasaki's_theorem">Kawasaki&#x27;s theorem</a> (alternating angles at each vertex must sum to π). If you have a piece of paper with a desired set of fold lines marked on it, and these fold lines all converge on a single vertex, then it&#x27;s possible to exactly characterize whether you can fold it flat along those lines. A greedy algorithm can find a way to fold it efficiently, and a version of the <a href="https://en.wikipedia.org/wiki/Carpenter's_rule_problem">Carpenter&#x27;s rule theorem</a> implies that, when a flat-folded state exists, you can always get to it by a continuous motion. But as Bern and Hayes showed at SODA 1996, the restriction to a single vertex is crucial: the folds at different vertices can interact with each other in complicated ways, making flat foldability of multi-vertex folding patterns NP-complete.
<br />

<br />
The new paper follows an earlier one at ISAAC 2011 and IJCGA 2013, <a href="http://erikdemaine.org/papers/LinearEquilateral_IJCGA/">&quot;Folding equilateral plane graphs&quot;</a>, by an overlapping set of authors, in studying the flat-foldability of objects that are not just flat sheets of paper. But in order to avoid Bern and Hayes&#x27; NP-hardness proof, we again restrict our attention only to objects with a single vertex. That is, we have some sort of complex of flat polygons connected by piano hinges at their edges, but all the hinges meet at a point. As in the following illustration:
<br />

<br />
<div style="text-align:center"><img src="http://www.ics.uci.edu/~eppstein/0xDE/two-cycles.png" /></div>
<br />

<br />
The blue sphere highlights the vertex, but it also indicates a way to think of the problem in only two dimensions instead of three: cut the complex through the surface of the sphere so that each polygon turns into a line segment (or really a segment of a great circle), each hinge turns into a point, and what you have is just a planar graph drawing. The line segments are rigid but the hinges at their endpoints make the whole drawing floppy (within the plane it&#x27;s defined in). The question is whether it is sufficiently floppy that it can be made to lie flat along a line.
<br />

<br />
Our key insight is in some sense the opposite of Bern and Hayes&#x27;: the folds within different faces of this planar graph cannot interact with each other at all. This is not obvious, or at least it wasn&#x27;t to us. But with this in hand, the rest is easy: we already know how to flatten things with one face using the results about folding patterns on flat sheets of paper, so to test whether a complex can be flattened we just need to test each of its faces separately. By using dynamic programming within each face and then multiplying the results, we can also count the number of different flat-folded states.
